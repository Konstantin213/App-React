{"version":3,"sources":["redux/dialogsReducer.js","assets/img/user.jpg","hoc/withAuthRedirect.js","components/Navigation/Navigation.module.css","components/Users/users.module.css","assets/img/preloader.svg","API/api.js","serviceWorker.js","redux/sidebarReduser.js","utilits/objectHelpers.js","redux/usersReducer.js","redux/authReducer.js","redux/appReducer.js","redux/reduxStore.js","components/Navigation/Navigation.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/Friends/FriendsItem/FriendsItem.jsx","components/Friends/Friends.jsx","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","components/Users/UsersContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","hoc/withSuspense.js","App.js","index.js","components/common/FormsControlls/FormsControlls.js","components/common/FormsControlls/FormsControlls.module.css","components/common/Preloader/Preloader.js","components/common/Paginator/Paginator.module.css","utilits/validators/validators.js","components/Header/Header.module.css","redux/profileReducer.js"],"names":["initialState","dialogs","id","name","message","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","body","module","exports","mapStateToPropsForRedirect","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","responce","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","Boolean","window","location","hostname","match","sidebarReducer","updateObjectToArray","items","itemsId","objPropName","newObjectProps","map","u","users","totalUsersCount","isFetching","followInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","togglefollowInProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","count","filter","setAuthUserData","payload","getAuthUserData","response","authReducer","initialized","appReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","usersPage","form","formReducer","app","store","createStore","applyMiddleware","thunkMiddleware","Navigation","className","s","nav","item","activeClassName","active","itemFriends","src","News","Music","Settings","FriendsItem","path","friends","Friends","friendsPage","f","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortioinPageNumber","rightPortioinPageNumber","paginator","onClick","p","cn","selectedPage","pageNumber","key","e","User","user","photos","small","userPhoto","disabled","some","Users","UsersContainer","Preloader","compose","bind","page","totalCount","Header","header","loginBlock","HeaderContainer","ReduxLoginForm","reduxForm","handleSubmit","error","onSubmit","createField","required","Input","formSummeryError","messages","length","stopSubmit","_error","formData","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","App","inisializeApp","render","withRouter","promise","Promise","all","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","FormControl","input","meta","touched","children","hasError","formControl","Textarea","restProps","child","placeholder","validate","component","text","preloader","value","maxLengthCreator","maxLength","posts","likeCount","profile","addPostActionCreator","newPostText","setStatus","getUserProfile","newPost","postId"],"mappings":"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","file":"static/js/main.e4ae16c8.chunk.js","sourcesContent":["const SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: \"Mihail\"},\r\n        {id: 2, name: \"Sveta\"},\r\n        {id: 3, name: \"Kukis\"},\r\n        {id: 4, name: \"Charger\"}\r\n    ],\r\n    message: [\r\n        {id: 1, message: \"Hi\"},\r\n        {id: 2, message: \"Ho are you\"},\r\n        {id: 3, message: \"Hello\"}\r\n    ],\r\n\r\n};\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SEND_MESSAGE :\r\n            let body = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                message: [...state.message, {id: 4, message: body}],\r\n            };\r\n        default :\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody});\r\nexport default dialogsReducer;","module.exports = __webpack_public_path__ + \"static/media/user.42ecc387.jpg\";","import React, {Component} from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to=\"/login\"/>;\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect) (RedirectComponent);\r\n    return ConnectedAuthRedirectComponent;\r\n\r\n    };\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navigation_nav__24l1E\",\"item\":\"Navigation_item__1sv5g\",\"active\":\"Navigation_active__2FNTU\",\"itemFriends\":\"Navigation_itemFriends__8CTQw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__3Xv9g\",\"selectedPage\":\"users_selectedPage__25BaN\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.ee773c8f.svg\";","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\": \"6f6971b1-4a21-42c8-be39-71bc5a43d147\"\r\n    }\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 5) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(responce => {\r\n                return responce.data;\r\n            });\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    getProfile(userId) {\r\n        console.warn(\r\n            'Obsolete method. Please profileAPI object.'\r\n        )\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n};\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status/`, {status});\r\n    }\r\n\r\n};\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe});\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`);\r\n    }\r\n};\r\n\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","let initialState = {};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\r\n    return state;\r\n}\r\nexport default sidebarReducer;","export const updateObjectToArray = (items, itemsId, objPropName, newObjectProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemsId) {\r\n            return {...u, ...newObjectProps}\r\n        }\r\n        return u;\r\n    })\r\n};\r\n","import {usersAPI} from \"../API/api\";\r\nimport {updateObjectToArray} from \"../utilits/objectHelpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOW_IN_PROGRESS = 'TOGGLE_IS_FOLLOW_IN_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW :\r\n            return {\r\n                ...state,\r\n                users: updateObjectToArray(state.users,\r\n                    action.userId,\r\n                    'id',\r\n                    {follow: true})\r\n            };\r\n        case UNFOLLOW :\r\n            return {\r\n                ...state,\r\n                users: updateObjectToArray(state.users,\r\n                    action.userId,\r\n                    'id',\r\n                    {follow: false})\r\n            };\r\n        case SET_USERS : {\r\n            return {...state, users: action.users}\r\n        }\r\n        case SET_CURRENT_PAGE : {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case SET_TOTAL_USERS_COUNT : {\r\n            return {...state, totalUsersCount: action.count}\r\n        }\r\n        case TOGGLE_IS_FETCHING : {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case TOGGLE_IS_FOLLOW_IN_PROGRESS : {\r\n            return {\r\n                ...state,\r\n                followInProgress: action.isFetching\r\n                    ? [...state.followInProgress, action.userId]\r\n                    : state.followInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n        default :\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount});\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const togglefollowInProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_IS_FOLLOW_IN_PROGRESS,\r\n    isFetching,\r\n    userId\r\n});\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(page));\r\n\r\n        let data = await usersAPI.getUsers(page, pageSize);\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n\r\n    };\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(togglefollowInProgress(true, userId));\r\n    let response = await apiMethod(userId)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(togglefollowInProgress(false, userId));\r\n};\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        const apiMethod = usersAPI.follow.bind(usersAPI);\r\n        followUnfollowFlow(dispatch, userId, apiMethod, followSuccess)\r\n\r\n    }\r\n}\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        const apiMethod = usersAPI.unfollow.bind(usersAPI);\r\n        followUnfollowFlow(dispatch, userId, apiMethod, unfollowSuccess)\r\n    };\r\n}\r\n\r\nexport default usersReducer;","import {authAPI} from \"../API/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n};\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA :\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            };\r\n\r\n        default :\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    payload: {userId, email, login, isAuth}\r\n});\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n\r\n    let response = await authAPI.me();\r\n    if (response.data.resultCode === 0) {\r\n        let {id, login, email} = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n\r\n};\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n\r\n    let response = await authAPI.login(email, password, rememberMe);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages [0] : 'Произошла ошибка';\r\n        dispatch(stopSubmit('login', {_error: message}))\r\n    }\r\n\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n\r\n    let response = await authAPI.logout();\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData(null, null, null, false))\r\n    }\r\n};\r\n\r\nexport default authReducer;","import {getAuthUserData} from \"./authReducer\";\r\n\r\nconst INISIALIZED_SUCESS = 'INISIALIZED_SUCESS';\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case INISIALIZED_SUCESS :\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default :\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const inisializedSucess = () => ({type: INISIALIZED_SUCESS});\r\n\r\nexport const inisializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise])\r\n    .then(() => {\r\n        dispatch(inisializedSucess());\r\n    })\r\n};\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport sidebarReducer from \"./sidebarReduser\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./appReducer\";\r\n\r\n\r\n\r\nlet reducers = combineReducers({\r\n    profilePage : profileReducer,\r\n    dialogsPage : dialogsReducer,\r\n    sidebar : sidebarReducer,\r\n    usersPage : usersReducer,\r\n    auth : authReducer,\r\n    form : formReducer,\r\n    app: appReducer\r\n\r\n\r\n});\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","import React from \"react\";\r\n\r\nimport s from \"./Navigation.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Navigation = () => {\r\n  return (\r\n    <nav className={s.nav}>\r\n      <div className={s.item}>\r\n        <NavLink to=\"/profile\" activeClassName={s.active}>\r\n          Profile\r\n        </NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to=\"/dialogs\" activeClassName={s.active}>\r\n          Message\r\n        </NavLink>\r\n      </div><div className={s.item}>\r\n        <NavLink to=\"/users\" activeClassName={s.active}>\r\n          Users\r\n        </NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to=\"/news\" activeClassName={s.active}>\r\n          News\r\n        </NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to=\"/music\" activeClassName={s.active}>\r\n          Music\r\n        </NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to=\"/settings\" activeClassName={s.active}>\r\n          Settings\r\n        </NavLink>\r\n        </div>\r\n        <div className={s.itemFriends}>\r\n        <NavLink to=\"/friends\" activeClassName={s.active}>\r\n          Friends\r\n        </NavLink><div>\r\n          <img src = 'https://bipbap.ru/wp-content/uploads/2017/05/VOLKI-krasivye-i-ochen-umnye-zhivotnye.jpg' />\r\n          <img src = 'https://bipbap.ru/wp-content/uploads/2017/05/VOLKI-krasivye-i-ochen-umnye-zhivotnye.jpg' />\r\n          <img src = 'https://bipbap.ru/wp-content/uploads/2017/05/VOLKI-krasivye-i-ochen-umnye-zhivotnye.jpg' /></div>\r\n       \r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","import React from \"react\";\r\nimport s from \"./News.module.css\";\r\n\r\nconst News = () => {\r\n  return <div>News</div>;\r\n};\r\n\r\nexport default News;\r\n","import React from \"react\";\r\nimport s from \"./Music.module.css\";\r\n\r\nconst Music = () => {\r\n  return <div>Music</div>;\r\n};\r\n\r\nexport default Music;\r\n","import React from \"react\";\r\nimport s from \"./Settings.module.css\";\r\n\r\nconst Settings = () => {\r\n  return <div>Settings</div>;\r\n};\r\n\r\nexport default Settings;\r\n","\r\nimport React from \"react\";\r\nimport s from \"./../Friends.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\n\r\nconst FriendsItem = props => {\r\n  let path = \"/friends/\" + props.id;\r\n  return (\r\n    <div className={s.friends + \" \" + s.active}>\r\n      <NavLink to={path}>{props.name}</NavLink>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FriendsItem;\r\n\r\n\r\n","import React from \"react\";\r\nimport s from \"./Friends.module.css\";\r\nimport FriendsItem from \"./FriendsItem/FriendsItem\";\r\n\r\n\r\nconst Friends = props => {\r\n  \r\n  let friends = props.state.friendsPage.map ( f => <FriendsItem name={f.name} id={f.id} />);\r\n  \r\n  return (\r\n     <div className = {s.friends}>\r\n       {friends}</div>)\r\n};\r\n\r\nexport default Friends;\r\n\r\n","import React, {useState} from \"react\";\r\nimport s from \"./Paginator.module.css\"\r\nimport cn from \"classnames\"\r\n\r\nconst Paginator = (totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortioinPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortioinPageNumber = portionNumber * portionSize;\r\n\r\n    return <div className={s.paginator}>\r\n        {portionNumber > 1 &&\r\n        <button onClick={() => {setPortionNumber(portionNumber - 1)}}>PREV</button>}\r\n\r\n        {pages\r\n            .filter(p => p >= leftPortioinPageNumber && p <= rightPortioinPageNumber)\r\n            .map((p) => {\r\n                return <span className={ cn ({\r\n                    [s.selectedPage]: currentPage === p\r\n                }, s.pageNumber)}\r\n                             key={p}\r\n                             onClick={(e) => {\r\n                                 onPageChanged(p);\r\n                             }}>{p}</span>\r\n            })}\r\n\r\n        {portionCount > portionNumber &&\r\n        <button onClick={() => {setPortionNumber(portionNumber + 1)}}>NEXT</button>}\r\n    </div>\r\n}\r\nexport default Paginator;","import React from \"react\";\r\nimport s from \"./users.module.css\";\r\nimport userPhoto from './../../assets/img/user.jpg';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst User = ({user, ...props}) => {\r\n    return (\r\n        <div>\r\n        <span>\r\n                    <div>\r\n                        <NavLink to={'/profile/' + user.id}>\r\n                            <img src={user.photos.small != null ? user.photos.small : userPhoto} className={s.userPhoto}/>\r\n                        </NavLink>\r\n                    </div>\r\n                    <div>\r\n                        {user.follow ?\r\n                            <button disabled={props.followInProgress.some(id => id === user.id)} onClick={() => {\r\n                                props.unfollow(user.id);\r\n                            }}>Unfollow</button> :\r\n                            <button disabled={props.followInProgress.some(id => id === user.id)} onClick={() => {\r\n                                props.follow(user.id);\r\n                            }}>Follow</button>}\r\n                        </div>\r\n                </span>\r\n            <span>\r\n                    <span>\r\n                        <div>{user.name}</div>\r\n                        <div>{user.status}</div>\r\n                    </span>\r\n                    <span>\r\n                        <div>{'user.location.city'}</div>\r\n                        <div>{'user.location.country'}</div>\r\n                    </span>\r\n                </span>\r\n        </div>\r\n    )\r\n}\r\nexport default User;","import React from \"react\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nlet Users = (props) => {\r\n\r\n    return <div>\r\n        <Paginator currentPage={props.currentPage} totalItemsCount={props.totalUsersCount}\r\n                    pageSize={props.pageSize} onPageChanged={props.onPageChanged}/>\r\n        <div>\r\n            {\r\n                props.users.map(u => <User user={u}\r\n                                           key={u.id}\r\n                                           followInProgress={props.followInProgress}\r\n                                           unfollow={props.unfollow}\r\n                                           follow={props.follow}\r\n                />)\r\n            }\r\n        </div>\r\n    </div>\r\n}\r\nexport default Users;","import React from \"react\";\r\nimport {\r\n    follow,\r\n    setCurrentPage,\r\n    unfollow,\r\n    togglefollowInProgress,\r\n    requestUsers\r\n} from \"../../redux/usersReducer\";\r\nimport {connect} from \"react-redux\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        this.props.getUsers(pageNumber, this.props.pageSize);\r\n    };\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   onPageChanged={this.onPageChanged}\r\n                   users={this.props.users}\r\n                   follow={this.props.follow}\r\n                   unfollow={this.props.unfollow}\r\n                   followInProgress={this.props.followInProgress}\r\n\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: state.usersPage.users,\r\n        pageSize: state.usersPage.pageSize,\r\n        totalUsersCount: state.usersPage.totalUsersCount,\r\n        currentPage: state.usersPage.currentPage,\r\n        isFetching: state.usersPage.isFetching,\r\n        followInProgress: state.usersPage.followInProgress\r\n    }\r\n};\r\n/*let mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followInProgress: getFollowInProgress(state)\r\n    }\r\n};*/\r\n\r\nexport default compose(\r\n    withAuthRedirect,\r\n    connect(mapStateToProps, {\r\n        follow, unfollow, setCurrentPage, togglefollowInProgress, getUsers: requestUsers\r\n    })\r\n)(UsersContainer)\r\n","import React from \"react\";\r\nimport s from \"./Header.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <img src=\"https://cdn3.f-cdn.com//files/download/70016655/Logo%202.png\"/>\r\n\r\n            <div className={s.loginBlock}>\r\n                {props.isAuth\r\n                    ? <div>{props.login} - <button onClick={props.logout}>Выйти</button></div>\r\n                    : <NavLink to={'/login'}>Login</NavLink>}\r\n                    </div>\r\n                    </header>\r\n                    );\r\n                    };\r\n\r\n                    export default Header;\r\n","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/authReducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n\r\n});\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../common/FormsControlls/FormsControlls\";\r\nimport {required} from \"../../utilits/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/authReducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport s from \"../common/FormsControlls/FormsControlls.module.css\"\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return (\r\n\r\n        <form onSubmit={handleSubmit}>\r\n            {createField(\"email\", 'Email', [required], Input)}\r\n            {createField(\"password\", 'Password', [required], Input, {type: 'password'})}\r\n            {createField(\"rememberMe\", null, [], Input, {type: 'checkbox'}, 'Remember me')}\r\n\r\n            {error && <div className={s.formSummeryError}>\r\n                {error}\r\n            </div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n\r\n    )\r\n}\r\n\r\nconst ReduxLoginForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nconst Login = ({login, isAuth}) => {\r\n    const onSubmit = (formData) => {\r\n        login(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n\r\n    if (isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n    return (<div>\r\n            <h1>Login</h1>\r\n            <ReduxLoginForm onSubmit={onSubmit}/>\r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login);","import React, {Component, Suspense} from \"react\";\r\n\r\nexport const withSuspense = (Component) => {\r\n\r\n    return (props) => {\r\n        return <Suspense fallback={<div>Загрузка...</div>}>\r\n            <Component {...props}/>\r\n        </Suspense>\r\n    }\r\n};\r\n\r\n","import React from \"react\";\nimport {Route, withRouter} from \"react-router-dom\";\nimport \"./App.css\";\nimport Navigation from \"./components/Navigation/Navigation\";\nimport News from \"./components/News/News\";\nimport Music from \"./components/Music/Music\";\nimport Settings from \"./components/Settings/Settings\";\nimport Friends from \"./components/Friends/Friends\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport LoginPage from \"./components/Login/Login\";\nimport {connect} from \"react-redux\";\nimport {compose} from \"redux\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport {inisializeApp} from \"./redux/appReducer\";\nimport {withSuspense} from \"./hoc/withSuspense\";\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogContainers'));\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\n\n\nclass App extends React.Component {\n    componentDidMount() {\n        this.props.inisializeApp();\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n        return (\n            <div className=\"app-wrapper\">\n                <HeaderContainer/>\n                <Navigation/>\n                <div className=\"app-wrapper-content\">\n                    <Route path=\"/dialogs\"\n                           render={withSuspense(DialogsContainer)}/>\n\n                    <Route path=\"/profile/:userId?\"\n                           render={withSuspense(ProfileContainer)}/>\n\n                    <Route path=\"/users\" render={() => <UsersContainer/>}/>\n                    <Route path=\"/login\" render={() => <LoginPage/>}/>\n                    <Route path=\"/news\" render={() => <News/>}/>\n                    <Route path=\"/music\" render={() => <Music/>}/>\n                    <Route path=\"/settings\" render={() => <Settings/>}/>\n                    <Route path=\"/friends\" render={() => <Friends/>}/>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized\n});\n\nexport default compose(\n    withRouter,\n    connect(mapStateToProps, {inisializeApp}))(App);","import * as serviceWorker from \"./serviceWorker\";\r\nimport store from \"./redux/reduxStore\";\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport {BrowserRouter} from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\";\r\n\r\n\r\nReactDOM.render(\r\n    <BrowserRouter>\r\n        < Provider store={store}>\r\n            <App/>\r\n        </Provider>\r\n    </BrowserRouter>, document.getElementById(\"root\")\r\n);\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","import React from \"react\";\r\nimport s from './FormsControlls.module.css'\r\nimport {Field} from \"redux-form\";\r\n\r\nconst FormControl = ({input, meta: {touched, error}, children}) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={s.formControl + \" \" + (hasError ? s.error : '')}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return (\r\n        <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n\r\n    )\r\n}\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return (\r\n        <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n\r\n    )\r\n}\r\nexport const createField = (name, placeholder, validate, component, props = {}, text = '') =>\r\n    <div><Field name={name}\r\n                placeholder={placeholder}\r\n                validate={validate}\r\n                component={component}\r\n                {...props} /> {text}\r\n    </div>\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControlls_formControl__3lzYT\",\"error\":\"FormsControlls_error__10DIp\",\"formSummeryError\":\"FormsControlls_formSummeryError__HEjMi\"};","import React from \"react\";\r\nimport preloader from '../../../assets/img/preloader.svg';\r\n\r\nlet Preloader = (props) =>{\r\n   return <div>\r\n        <img src={preloader}/>\r\n    </div>\r\n};\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__1IOMz\",\"pageNumber\":\"Paginator_pageNumber__3_XLG\",\"selectedPage\":\"Paginator_selectedPage__2G9jE\"};","export const required = (value) => {\r\n    if (value) return undefined;\r\n    return 'Поле обязательно для заполненния';\r\n};\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Максимальное допустимое количество символов : ${maxLength}`;\r\n    return undefined;\r\n};\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3Yx7T\",\"loginBlock\":\"Header_loginBlock__1rM44\"};","import {profileAPI, usersAPI} from \"../API/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POSTS = 'DELETE_POSTS';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: \"Hey, i am noodles\", likeCount: \"10\"},\r\n        {id: 2, message: \"Helloy, it lessons\", likeCount: \"15\"},\r\n        {id: 3, message: \"Yo\", likeCount: \"11\"},\r\n        {id: 4, message: \"Something\", likeCount: \"5\"}\r\n    ],\r\n    profile: null,\r\n    status: \"\"\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST  : {\r\n\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                likeCount: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: ''\r\n            };\r\n        }\r\n\r\n        case SET_USER_PROFILE : {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n        }\r\n        case SET_STATUS : {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n        }\r\n        case DELETE_POSTS : {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id != action.postId)\r\n            }\r\n        }\r\n        default :\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const setStatus = (status) => ({type: SET_STATUS, status});\r\nexport const deletePost = (postId) => ({type: DELETE_POSTS, postId});\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    const response = await usersAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n\r\n};\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    const response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatus(response.data));\r\n};\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    const response = await profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status))\r\n    }\r\n};\r\n\r\nexport default profileReducer;"],"sourceRoot":""}